---
title: 20180927 TIL
date: 2018-09-27 22:57:51
categories: [TIL]
tags: [swift, switch, fallthrough, class, struct, Nil-Coalescing, TernaryOperator]
---

### fallthrough
- switch 구문에서, 두가지 케이스를 하나로 묶기 위한 방법
```swift
switch "bread" {
    case "dounut", "cake" : print("delicious bread!")
    case "castella" : print("delicious castella!")
    default : print("delicious!")
}


switch "bread" {
    case "donut" : 
    print("delicious donut!")
        fallthrough
    case "cake" : 
        print("delicious cake!")
    case "castella" : 
        print("delicious castella!")
    default : 
        print("delicious!")
}
```

### struct
```swift
struct Sample{
    var mutableProperty: Int = 100
    let immutableProperty: Int = 100

    static var typeProperty: Int = 100

    func instanceMethod() {
        print("instance Method")
    }

    static func typeMethod() {      
        print("type Method")
    }
}

let immutalbe: Sample = Sample()
var mutable: Sample = Sample()

// 불가능
immutable.mutableProperty = 200   //불변 인스턴스로 선언했기 때문에
// 불가능
immutable.immutableProperty = 200 //불변 인스턴스로 선언했기 때문에

mutable.mutableProperty = 200   // 200
// 불가능
mutable.immutableProperty = 300  //가변 인스턴스지만 구조체선언부에서 불변 프로퍼티였기 때문에 불가능

Sample.typeProperty = 300  // 300, 구조체 내부이므로 사용 가능
Sample.typeMethod()  // "type Method", 구조체 내부이므로 사용 가능

//불가능 
mutable.typeProperty = 500 // 외부 인스턴스에서 사용하려 하면 사용 불가
```
- Struct는 열거형과 함께 값타입이다.


### class
```swift
class Sample {
    var mutableProperty: Int = 100
    let immutableProperty: Int = 100

    static var typeProperty: Int = 100

    func instanceMethod() {
        print("instance Method")
    }

    static func typeMethod() {      
        print("type Method : static")
    }

    class func classMethod() {
        print("type Method : class")
    }
}


let immutalbe: Sample = Sample()
var mutable: Sample = Sample()

immutable.mutableProperty = 200   // 200, 불변 인스턴스 더라도 클래스 선언시 가변이므로 변경 가능
immutable.immutableProperty = 200  // 불가능, 클래스 선언시 불변 프로퍼티였으므로 

mutable.mutableProperty = 200   // 200
mutable.immutableProperty = 300    // 불가능, 클래스 선언시 불변 프로퍼티였으므로
```
- class는 참조타입이다.
- type Method 사용법은 struct와 크게 다르지 않음
- 인스턴스 선언시 let을 사용했더라도 프로퍼티 수정이 자유롭다는 점이 struct와 구분되는 포인트.

## ?? (Nil-Coalescing Operator)
-  Nil 병합 연산자
```swift
let optionalString: String? = "Str"
let unrwapedString = optionalString ?? "nil"   // unrwapedString == "Str"
```
- `let a = b ?? c`: 옵셔널인 b가 값을 가지고 있으면 a에 담고, 없으면 a에 c를 담는다.

## 삼항연산자(삼원 조건 연산자)
- `let sample = (test ? expression1 : expression2)`
`test` : boolean식
`expression1` : `test`가 `true`일 때 반환되는 식
`expression2` : `test`가 `false`일 때 반환되는 식
- 표현이 간결해진 다는 점이 장점이지만, 의미가 명시적이지 않아 읽기 어려워진다는 점에서 좋지 않은 방식
- 옵셔널을 처리하는 데에도 쓸 수 있다. 
  - `var a = (b != nil ? b! : c)`: 옵셔널인 b가 nil이 아니면 a에 b!가 들어가고, 조건이 틀리다면 a에 c을 넣는다.
