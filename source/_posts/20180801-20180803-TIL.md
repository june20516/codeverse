---
title: 20180801 ~ 20180803 TIL
date: 2018-08-04 16:41:08
tags: 스코프, 클로저, 참조변수, 지역변수, 전역변수, constlet
---

- 책 추천 : 객체지향의 사실과 오해

## 객체 & 이벤트

### 스코프
- 변수의 범위와 생존 주기

### 전역변수 & 지역변수
- 전역변수 : 스크립트의 전역에서 존재하는 변수. 많이 사용하면 좋지 않다. 코딩의 규모가 커질 수록 지저분해짐.
- 지역변수 : 함수 내에서 생성한 변수.
  - 렉시컬 특성 : 함수 실행 환경이 아닌, 함수 정의 환경으로 참조된다. 즉 함수 f1과 f2를 각각 선언했을 때, f1 안에 f2를 넣어 사용한다 해도 f2가 f1에서 선언된 변수를 참조할 수 없는 것.
  - 호이스팅 : 선언문(var) 끌어올림. 함수 선언문에서만 작동한다. 호이스팅은 함수 표현식에서는 작동하지 않는다.

### 클로저
- 함수의 리턴에 함수(클로저)를 쓰는 형태. 함수 외부에서 함수를 변수에 담아서 함수내부에서 선언된 값을 가져다 쓴다. 내부 함수가 실행 되면서만 바깥 함수를 닫기 때문에 클로저라는 이름이 붙었음.


```javascript
function outerFunc(){  
    var a= 0;
    return {
        innerFunc1 : function(){
            a+=1;
            console.log("a :"+a);
        },
        innerFunc2 : function(){
            a+=2;
            console.log("a :"+a);
        }
    };
}
var out = outerFunc();  
var out2 = outerFunc();  
out.innerFunc1();  
out.innerFunc2();  
out2.innerFunc1();  
out2.innerFunc2();  
//실행결과
/*
a = 1  
a = 3  
a = 1  
a = 3  
*/
```

### 참조변수 & 일반변수
- 일반 변수는 저장소에 값을 생성하고, 그 값을 직접 변수에 담는다. str, num.
  - 일반 변수를 참조하면, 값 자체를 전달한다. 해당 변수를 직접 변형하지 않는 한 일반 변수는 바뀌지 않는다.
- 참조변수는 저장소에 값을 생성하고, 그 값으로 연결하는 주소를 참조변수에 담는다.
  - 참조 변수를 참조하면, 값으로 연결한다. 함수 등 다른 영역에서 참조 변수를 변형하면, 저장소에 생성돼있는 데이터가 직접 바뀐다.

### 프로그래밍 언어의 철학
- 값의 크기와 참조변수의 존재 이유
  - 모든 데이터가 일반 변수처럼 변수가 곧 값이라고 한다면, 어떤 작업을 할 때마다 복제된 데이터를 계속 만들어야 할 것이다. 이는 메모리 사용 면에서 매우 비효율적이기 때문에 참조변수가 사용된다.

### 참조가 사라지면 가비지 콜렉터
- 참조변수에 연결돼있던 데이터가 고립되어 접근 불가능한 웨이스트가 된다. 이런 것들을 클리어 시켜주는 것으로 가비지콜렉터라고 있다고 한다.
