---
title: 20181004 TIL
date: 2018-10-04 17:23:56
tags: swift, unit test, readLine, static, private
---

## 단위테스트 강의
- smoke Testing : 뭔가 만들 때 마다, 고장인지 아닌지 직접 실행해보는 것. 매우 원시적 방법.

### Right-BICEP

1. Right
  - 실행하지 않고 확인할 수 있는게 좋다. CORRECT

2. B-boundary
  - 입력범위의 경계조건(boundary condition)
3. I-inverse
  - 논리적 역관계를 수행해서 검증
  - 문제점 : 역관계를 가지고있는 함수 2개가 있을 땐 확인하기 어려움. 몇몇 방법이 있다.
4. C-cross
  - 교차 검증 : 다른 또는 기존 로직과 비교해서 정상인가

5. E-에러조건
  - 안되는 상황을 찾자

6. P- performance
  - 성능특성 : 입력이 커지거나, 복잡해지면서 성능이 어떻게 떨어지는지

### A-TRIP
- 좋은 테스트의 조건

## 실습 방법
- 프로젝트 후반에 테스트를 추가하면, skim에서 test의 타겟을 추가.
- 함수를 읽지 못하는 경우, 테스트블럭에 소스코드파일을 추가해야한다.
- 테스트 결과를 확인하려면, Assert(XCTAssertTrue 등)를 쓴다.
  - `XCTAssertNil()`:  () 안의 조건이 Nil이어야 통과
  - `XCTAssertTrue()`: () 안의 조건이 True여야 통과
- 빌드할 때 에러가 같이 나오겠지만, target을 확인하는 게 중요하다.
- 랜덤값을 리턴하는 함수의 테스트는 테스트가 불가능하다. 그러므로, 안에서 랜덤을 다 동작시켜서 뱉게 만들지 말고, parameter로 랜덤값을 받아서 확인할 수 있는 함수를 만들자.

## 오늘의 질문
- readLine()의 값이 왜 Optional일까?
  - 답 : 콘솔에서만 쓰기 떄문에 빈 String이 생기는 것일 뿐. 사용 방법, 환경에 따라 optional이 충분히 나올수있다.
- array를 index로 접근하는 문법에서, 왜 index에는 UInt가 쓰이지 못하는가? 관념적으로 보았을 때 음수가 들어갈 수 없으므로 더 적합한 것 아닐까?
  - 답 : subscription 문법은 array에서만 쓰이는 것이 아니고, 여러가지 데이터 구조를 포함한 많은 부분에서 쓰인다. 때문에, 문법을 이루는 공통적인 요소들로 보아야 할 필요가 있다. 조금 더 보편적인 접근이 필요하기 때문?

## 오늘의 깨달음
- 부분 값을 참조하는 방식이 있다. Substring 타입!!
```swift
let a = [1,2,3,4,5,6,7,8]

let b = ArraySlice(a[3...6])
print(type(of: b))   // ArraySlice<Int> , 잘라내서 새로운 배열을 생성
print(b[0])  // 4

var c = a[3...6]   // Substring을 부분참조시키는 방식
print(c[0])    // Fatal error: Index out of bounds
```

## struct에서 private 와 static
- **다른 개념이다.**
  - private : 구조체의 바깥에서 접근할 수 없음. 동일 항목으로 internal , public 공부.
  - static : 인스턴스가 호출되지 않은 상태에서 구조체 내부에 한해 바로 접근 가능한 속성.
- 그니까 결론적으로, 구조체 내부에서 값을 연결하기 위해서 **굳이 static을 쓸 필요는 없는거다!!**
- parameter나 argument 형식으로 전달하고, 그냥 인스턴스 선언하고 쓰는 것도 가능하다.
- 더 중요한것은, property 최대한 private으로 두는 것. 이를 접근하기 위한 method를 잘 짜는 것이 중요하다.
