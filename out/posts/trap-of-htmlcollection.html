<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="stylesheet" href="/_next/static/css/7b81de174d0b7cb3.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/41897fdb7555a39f.css" data-precedence="next"/><link rel="preload" as="script" href="https://www.googletagmanager.com/gtag/js?id=G-Q587R5F0YL"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" noModule=""></script></head><body><header class="flex items-center px-8"><a class="flex items-center" href="/"><div class="relative w-10 mr-4 aspect-square"><img alt="icon of codeverse" loading="lazy" decoding="async" data-nimg="fill" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="assets/images/codeverse_icon.png"/></div><h1 class="text-3xl font-bold">Codeverse</h1></a></header><aside><ul class="px-5"><li class="pt-4 border-b border-b-primary-900"><a class="block w-full h-fulltext-lg text-lg" href="/posts">Posts</a></li><li class="pt-4 border-b border-b-primary-900"><a class="block w-full h-fulltext-lg text-lg" href="/tags">Tags</a></li><li class="pt-4 border-b border-b-primary-900"><a class="block w-full h-fulltext-lg text-lg" href="/about">About Me</a></li></ul></aside><main class="overflow-auto"><div class="px-4"><article class="space-y-6"><div class="text-4xl font-bold text-center p-10 bg-white max-h-96 min-h-fit transition-all"><span class="">HTMLCollection의 함정</span><p class="text-base text-right italic text-secondary-400"> - <!-- -->2021/09/07</p></div><div class="w-full bg-background-primary-100 p-4"><p class="font-semibold text-secondary-600">최근 작업에서 클래스를 기준으로 스크립트를 작성할 일이 있었습니다. 그런데, 이 작업 도중 선뜻 이해가 가지 않는 일이 생겨 삽질을 했습니다. 그 삽질의 기억을 기록합니다.</p></div><img src="/assets/images/posts/trap-of-htmlcollection.jpeg" class="w-[90%] mx-auto" alt="thumbnail" loading="lazy"/><div class="markdown-body post"><pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper lunchtime-template<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-primary name-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>OOO<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>span</span><span class="token punctuation">></span></span>
</span><span class="code-line">    의 점심시간
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>위와 같은 형태의 html이 있고, 이 template를 복사해 와서 데이터를 알맞게 넣는 식의 작업이었습니다.
스크립트를 짜기 시작합니다..</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token literal-property property">bran</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'철판 볶음밥을 먹었다'</span><span class="token punctuation">,</span> <span class="token string">'커피를 주문했다'</span><span class="token punctuation">,</span> <span class="token string">'쿠키도 구매했다'</span><span class="token punctuation">,</span> <span class="token string">'양치를 했다'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">let</span> lunchTimeDiv <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.lunchtime-template'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>상세 전략으로, 알맞는 tag element를 찾아 알맞는 데이터를 넣어준 이후, template로 활용하고자 설정해 두었던 class name들을 다 제거하려 생각했습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line">lunchTimeDiv<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'lunchtime-template'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">let</span> nameSlot <span class="token operator">=</span> lunchTimeDiv<span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.name-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">nameSlot<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> name<span class="token punctuation">;</span>
</span><span class="code-line">nameSlot<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'name-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>여기까지는 무탈하게 진행하였으나, 문제는 이후에 발생했습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">const</span> histories <span class="token operator">=</span> data<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">let</span> historySlots <span class="token operator">=</span> lunchTimeDiv<span class="token punctuation">.</span><span class="token method function property-access">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&#x3C;</span> historySlots<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  slot <span class="token operator">=</span> historySlots<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  slot<span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> histories<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  slot<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>스크립트로 뿌려진 데이터는 기대와 달랐습니다.</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>bran<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>span</span><span class="token punctuation">></span></span>
</span><span class="code-line">    의 점심시간
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>철판 볶음밥을 먹었다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>커피를 주문했다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
</span></code></pre>
<blockquote>
<p>이.. 이게 대체 어떻게 된 일이지..</p>
</blockquote>
<p>기대와 전혀 다른 모습에 얼떨떨합니다. 아무리 생각처럼 한번에 안되는 것이 코딩이라지만, 이렇게 단순한 코드에서 삽질이라니??
영문을 모르고 어리둥절 해서 빤히 보고있는데, 패턴이 뭔가 익숙합니다. 고사리손으로 level1 알고리즘 문제를 풀어나가던 시절이 떠올랐습니다. 루프 안에서 인덱스를 조절해야 했던 문제가 있었던 것 같아요. 혹시나 싶어 서둘러 코드에 한줄을 끼워 넣어봅니다..</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&#x3C;</span> histories<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  slot <span class="token operator">=</span> historySlots<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  slot<span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> histories<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  slot<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  idx <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>결과가 나오긴 나왔습니다. 뭔가 이상하지만요.</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>bran<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>span</span><span class="token punctuation">></span></span>
</span><span class="code-line">    의 점심시간
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>철판 볶음밥을 먹었다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>철판 볶음밥을 먹었다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>철판 볶음밥을 먹었다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>철판 볶음밥을 먹었다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>반쪽이나마, 포문에서 발생하는 걸로 추정되는 문제는 해결이 되었습니다. 하지만 데이터도 같은 인덱스로 돌아야 하기 때문에 이렇게는 복잡성만 키울 뿐, 이 방향으로는 해결이 어려울 것 같습니다.</p>
<p>보다 근본적인 문제를 고민해보니, 아무래도 루프가 진행됨에 따라 <code>historySlots</code>이 제 예상과는 다르게 변하고 있는 것 같습니다. 그래서 <code>historySlots</code>을 잡는 방법을 <code>getElementsByClassName</code>에서 <code>querySelectorAll</code>으로 바꿔보았습니다.</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper lunchtime-template<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-primary name-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>OOO<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>span</span><span class="token punctuation">></span></span>
</span><span class="code-line">    의 점심시간
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info history-slot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">    <span class="token literal-property property">bran</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'철판 볶음밥을 먹었다'</span><span class="token punctuation">,</span> <span class="token string">'커피를 주문했다'</span><span class="token punctuation">,</span> <span class="token string">'쿠키도 구매했다'</span><span class="token punctuation">,</span> <span class="token string">'양치를 했다'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword">let</span> lunchTimeDiv <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.lunchtime-template'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  lunchTimeDiv<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'lunchtime-template'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword">let</span> nameSlot <span class="token operator">=</span> lunchTimeDiv<span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.name-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  nameSlot<span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> name<span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  nameSlot<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'name-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword">const</span> histories <span class="token operator">=</span> data<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token comment">// 이곳을</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword">let</span> historySlots <span class="token operator">=</span> lunchTimeDiv<span class="token punctuation">.</span><span class="token method function property-access">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token comment">// 바꿨습니다.</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&#x3C;</span> historySlots<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">    slot <span class="token operator">=</span> historySlots<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">    slot<span class="token punctuation">.</span><span class="token property-access">innerText</span> <span class="token operator">=</span> histories<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">    slot<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript">  <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token script"><span class="token language-javascript"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
</span></code></pre>
<p>드디어 의도대로 동작하는 것을 확인할 수 있었습니다.</p>
<pre class="language-html"><code class="language-html code-highlight"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-primary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>bran<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>span</span><span class="token punctuation">></span></span>
</span><span class="code-line">    의 점심시간
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>p</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>철판 볶음밥을 먹었다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>커피를 주문했다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>쿠키도 구매했다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-info<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>양치를 했다<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
</span><span class="code-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ul</span><span class="token punctuation">></span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
</span></code></pre>
<hr>
<p><code>getElementsByClassName</code>은 <code>HTMLCollection</code>을 반환합니다.
<code>querySelectorAll</code>은 <code>NodeList</code>를 반환합니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword">let</span> historySlots1 <span class="token operator">=</span> lunchTimeDiv<span class="token punctuation">.</span><span class="token method function property-access">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">let</span> historySlots2 <span class="token operator">=</span> lunchTimeDiv<span class="token punctuation">.</span><span class="token method function property-access">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.history-slot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>historySlots1<span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[object HTMLCollection]'</span>
</span><span class="code-line"><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>historySlots2<span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//  '[object NodeList]'</span>
</span></code></pre>
<p><a href="https://dev.to/theoluyi/queryselector-vs-getelementsbyclassname-nodelist-vs-htmlcollection-30gg" target="_blank" rel="noopener noreferer">HTMLCollection과 NodeList</a> 의 차이를 설명하는 글을 공유합니다.</p>
<p>간단하게 얘기하면, HTMLCollection은 항상 현재의 상황을 반영합니다. collection의 기준이 class name이었고, 저는 그 요소들의 class name을 지웠으니 더이상 해당 collection에 해당이 되지 않아 collection이 작아진거죠. 포문이 오작동한 원인은 이 것 때문이었습니다.</p>
<p>더 깊게 얘기하면, HTML은 배열이 아닌 유사 배열로, 배열(array)에서 제공하는 forEach등의 함수를 사용할 수 없다고 합니다. 하지만 조금 더 HTML친화적으로 객체의 속성에 접근하듯이 <code>.[속성명]</code>의 방식으로 접근할 수도 있다고 합니다. <sup><a href="https://devsoyoung.github.io/posts/js-htmlcollection-nodelist" target="_blank" rel="noopener noreferer">ref</a></sup></p>
<p>좀 더 공부해서, 앞으로는 상황에 맞게 적절한 선택을 하며 작업해야겠습니다.</p></div></article></div></main><!--$!--><template data-dgst="NEXT_DYNAMIC_NO_SSR_CODE"></template><!--/$--><script src="/_next/static/chunks/webpack-ef703843d9cde1cb.js" async=""></script><script src="/_next/static/chunks/2443530c-7ba257262dcef235.js" async=""></script><script src="/_next/static/chunks/488-6f91b937fa61d470.js" async=""></script><script src="/_next/static/chunks/main-app-2456614f37f5f8df.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/7b81de174d0b7cb3.css\",{\"as\":\"style\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/_next/static/css/41897fdb7555a39f.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"4:I{\"id\":\"8827\",\"chunks\":[\"272:static/chunks/webpack-ef703843d9cde1cb.js\",\"667:static/chunks/2443530c-7ba257262dcef235.js\",\"488:static/chunks/488-6f91b937fa61d470.js\"],\"name\":\"\",\"async\":false}\n6:I{\"id\":\"9126\",\"chunks\":[\"272:static/chunks/webpack-ef703843d9cde1cb.js\",\"667:static/chunks/2443530c-7ba257262dcef235.js\",\"488:static/chunks/488-6f91b937fa61d470.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":\"5810\",\"chunks\":[\"920:static/chunks/920-3d247991104d78c9.js\",\"958:static/chunks/958-6675101e01b30552.js\",\"185:static/"])</script><script>self.__next_f.push([1,"chunks/app/layout-aa6aecee6e89a04c.js\"],\"name\":\"\",\"async\":false}\n9:I{\"id\":\"4463\",\"chunks\":[\"272:static/chunks/webpack-ef703843d9cde1cb.js\",\"667:static/chunks/2443530c-7ba257262dcef235.js\",\"488:static/chunks/488-6f91b937fa61d470.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":\"1010\",\"chunks\":[\"272:static/chunks/webpack-ef703843d9cde1cb.js\",\"667:static/chunks/2443530c-7ba257262dcef235.js\",\"488:static/chunks/488-6f91b937fa61d470.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/7b81de174d0b7cb3.css\",\"precedence\":\"next\"}]],[\"$\",\"$L4\",null,{\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/trap-of-htmlcollection\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"trap-of-htmlcollection\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"trap-of-htmlcollection\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$L5\",null],\"globalErrorComponent\":\"$6\",\"notFound\":[\"$\",\"$L7\",null,{\"params\":{},\"children\":[\"$L8\",\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}],\"asNotFound\":false,\"children\":[[\"$\",\"$L7\",null,{\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[[null,[\"$\",\"div\",null,{\"className\":\"px-4\",\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"slug\",\"trap-of-htmlcollection\",\"d\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lb\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"trap-of-htmlcollection\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/41897fdb7555a39f.css\",\"precedence\":\"next\"}]]}]}]],null],\"segment\":[\"slug\",\"trap-of-htmlcollection\",\"d\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}],\"params\":{}}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:I{\"id\":\"4970\",\"chunks\":[\"333:static/chunks/app/posts/[slug]/page-9453b7f9c6d178f9.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"b:[null,[\"$\",\"article\",null,{\"className\":\"space-y-6\",\"children\":[\"$\",\"$Lc\",null,{\"post\":{\"slug\":\"trap-of-htmlcollection\",\"meta\":{\"title\":\"HTMLCollection의 함정\",\"description\":\"최근 작업에서 클래스를 기준으로 스크립트를 작성할 일이 있었습니다. 그런데, 이 작업 도중 선뜻 이해가 가지 않는 일이 생겨 삽질을 했습니다. 그 삽질의 기억을 기록합니다.\",\"date\":\"2021/09/07\",\"tags\":[\"HTMLCollection\",\"getElementsByClassName\",\"nodeList\",\"querySelectorAll()\"],\"categories\":[\"dev\",\"web\"],\"thumbnail\":\"assets/images/posts/trap-of-htmlcollection.jpeg\"},\"content\":\"\\n```html\\n\u003cdiv class=\\\"wrapper lunchtime-template\\\"\u003e\\n  \u003cp class=\\\"title\\\"\u003e\\n    \u003cspan class=\\\"text-primary name-slot\\\"\u003eOOO\u003c/span\u003e\\n    의 점심시간\\n  \u003c/p\u003e\\n  \u003cul\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n  \u003c/ul\u003e\\n\u003c/div\u003e\\n```\\n\\n위와 같은 형태의 html이 있고, 이 template를 복사해 와서 데이터를 알맞게 넣는 식의 작업이었습니다.\\n스크립트를 짜기 시작합니다..\\n\\n```javascript\\nconst data = {\\n  bran: ['철판 볶음밥을 먹었다', '커피를 주문했다', '쿠키도 구매했다', '양치를 했다'],\\n};\\nlet lunchTimeDiv = document.querySelector('.lunchtime-template').cloneNode(true);\\n```\\n\\n상세 전략으로, 알맞는 tag element를 찾아 알맞는 데이터를 넣어준 이후, template로 활용하고자 설정해 두었던 class name들을 다 제거하려 생각했습니다.\\n\\n```javascript\\nlunchTimeDiv.classList.remove('lunchtime-template');\\n\\nlet name = Object.keys(data)[0];\\nlet nameSlot = lunchTimeDiv.querySelector('.name-slot');\\nnameSlot.innerHTML = name;\\nnameSlot.classList.remove('name-slot');\\n```\\n\\n여기까지는 무탈하게 진행하였으나, 문제는 이후에 발생했습니다.\\n\\n```javascript\\nconst histories = data[name];\\nlet historySlots = lunchTimeDiv.getElementsByClassName('history-slot');\\nfor (let idx = 0; idx \u003c historySlots.length; idx++) {\\n  slot = historySlots[idx];\\n  slot.innerText = histories[idx];\\n  slot.classList.remove('history-slot');\\n}\\n```\\n\\n스크립트로 뿌려진 데이터는 기대와 달랐습니다.\\n\\n```html\\n\u003cdiv class=\\\"wrapper\\\"\u003e\\n  \u003cp class=\\\"title\\\"\u003e\\n    \u003cspan class=\\\"text-primary\\\"\u003ebran\u003c/span\u003e\\n    의 점심시간\\n  \u003c/p\u003e\\n  \u003cul\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e철판 볶음밥을 먹었다\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e커피를 주문했다\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n  \u003c/ul\u003e\\n\u003c/div\u003e\\n```\\n\\n\u003e 이.. 이게 대체 어떻게 된 일이지..\\n\\n기대와 전혀 다른 모습에 얼떨떨합니다. 아무리 생각처럼 한번에 안되는 것이 코딩이라지만, 이렇게 단순한 코드에서 삽질이라니??\\n영문을 모르고 어리둥절 해서 빤히 보고있는데, 패턴이 뭔가 익숙합니다. 고사리손으로 level1 알고리즘 문제를 풀어나가던 시절이 떠올랐습니다. 루프 안에서 인덱스를 조절해야 했던 문제가 있었던 것 같아요. 혹시나 싶어 서둘러 코드에 한줄을 끼워 넣어봅니다..\\n\\n```javascript\\nfor (let idx = 0; idx \u003c histories.length; idx++) {\\n  slot = historySlots[idx];\\n  slot.innerText = histories[idx];\\n  slot.classList.remove('history-slot');\\n  idx -= 1;\\n}\\n```\\n\\n결과가 나오긴 나왔습니다. 뭔가 이상하지만요.\\n\\n```html\\n\u003cdiv class=\\\"wrapper\\\"\u003e\\n  \u003cp class=\\\"title\\\"\u003e\\n    \u003cspan class=\\\"text-primary\\\"\u003ebran\u003c/span\u003e\\n    의 점심시간\\n  \u003c/p\u003e\\n  \u003cul\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e철판 볶음밥을 먹었다\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e철판 볶음밥을 먹었다\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e철판 볶음밥을 먹었다\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e철판 볶음밥을 먹었다\u003c/li\u003e\\n  \u003c/ul\u003e\\n\u003c/div\u003e\\n```\\n\\n반쪽이나마, 포문에서 발생하는 걸로 추정되는 문제는 해결이 되었습니다. 하지만 데이터도 같은 인덱스로 돌아야 하기 때문에 이렇게는 복잡성만 키울 뿐, 이 방향으로는 해결이 어려울 것 같습니다.\\n\\n보다 근본적인 문제를 고민해보니, 아무래도 루프가 진행됨에 따라 `historySlots`이 제 예상과는 다르게 변하고 있는 것 같습니다. 그래서 `historySlots`을 잡는 방법을 `getElementsByClassName`에서 `querySelectorAll`으로 바꿔보았습니다.\\n\\n```html\\n\u003cdiv class=\\\"wrapper lunchtime-template\\\"\u003e\\n  \u003cp class=\\\"title\\\"\u003e\\n    \u003cspan class=\\\"text-primary name-slot\\\"\u003eOOO\u003c/span\u003e\\n    의 점심시간\\n  \u003c/p\u003e\\n  \u003cul\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n    \u003cli class=\\\"text-info history-slot\\\"\u003e\u003c/li\u003e\\n  \u003c/ul\u003e\\n\u003c/div\u003e\\n\\n\u003cscript\u003e\\n  const data = {\\n    bran: ['철판 볶음밥을 먹었다', '커피를 주문했다', '쿠키도 구매했다', '양치를 했다'],\\n  };\\n  let lunchTimeDiv = document.querySelector('.lunchtime-template').cloneNode(true);\\n  lunchTimeDiv.classList.remove('lunchtime-template');\\n\\n  let name = Object.keys(data)[0];\\n  let nameSlot = lunchTimeDiv.querySelector('.name-slot');\\n  nameSlot.innerHTML = name;\\n  nameSlot.classList.remove('name-slot');\\n  const histories = data[name];\\n\\n  // 이곳을\\n  let historySlots = lunchTimeDiv.querySelectorAll('.history-slot');\\n  // 바꿨습니다.\\n\\n  for (let idx = 0; idx \u003c historySlots.length; idx++) {\\n    slot = historySlots[idx];\\n    slot.innerText = histories[idx];\\n    slot.classList.remove('history-slot');\\n  }\\n\u003c/script\u003e\\n```\\n\\n드디어 의도대로 동작하는 것을 확인할 수 있었습니다.\\n\\n```html\\n\u003cdiv class=\\\"wrapper\\\"\u003e\\n  \u003cp class=\\\"title\\\"\u003e\\n    \u003cspan class=\\\"text-primary\\\"\u003ebran\u003c/span\u003e\\n    의 점심시간\\n  \u003c/p\u003e\\n  \u003cul\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e철판 볶음밥을 먹었다\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e커피를 주문했다\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e쿠키도 구매했다\u003c/li\u003e\\n    \u003cli class=\\\"text-info\\\"\u003e양치를 했다\u003c/li\u003e\\n  \u003c/ul\u003e\\n\u003c/div\u003e\\n```\\n\\n---\\n\\n`getElementsByClassName`은 `HTMLCollection`을 반환합니다.\\n`querySelectorAll`은 `NodeList`를 반환합니다.\\n\\n```javascript\\nlet historySlots1 = lunchTimeDiv.getElementsByClassName('history-slot');\\nlet historySlots2 = lunchTimeDiv.querySelectorAll('.history-slot');\\nconsole.log(historySlots1.toString()); // '[object HTMLCollection]'\\nconsole.log(historySlots2.toString()); //  '[object NodeList]'\\n```\\n\\n[HTMLCollection과 NodeList](https://dev.to/theoluyi/queryselector-vs-getelementsbyclassname-nodelist-vs-htmlcollection-30gg) 의 차이를 설명하는 글을 공유합니다.\\n\\n간단하게 얘기하면, HTMLCollection은 항상 현재의 상황을 반영합니다. collection의 기준이 class name이었고, 저는 그 요소들의 class name을 지웠으니 더이상 해당 collection에 해당이 되지 않아 collection이 작아진거죠. 포문이 오작동한 원인은 이 것 때문이었습니다.\\n\\n더 깊게 얘기하면, HTML은 배열이 아닌 유사 배열로, 배열(array)에서 제공하는 forEach등의 함수를 사용할 수 없다고 합니다. 하지만 조금 더 HTML친화적으로 객체의 속성에 접근하듯이 `.[속성명]`의 방식으로 접근할 수도 있다고 합니다. \u003csup\u003e[ref](https://devsoyoung.github.io/posts/js-htmlcollection-nodelist)\u003c/sup\u003e\\n\\n좀 더 공부해서, 앞으로는 상황에 맞게 적절한 선택을 하며 작업해야겠습니다.\\n\"},\"meta\":{\"title\":\"HTMLCollection의 함정\",\"description\":\"최근 작업에서 클래스를 기준으로 스크립트를 작성할 일이 있었습니다. 그런데, 이 작업 도중 선뜻 이해가 가지 않는 일이 생겨 삽질을 했습니다. 그 삽질의 기억을 기록합니다.\",\"date\":\"2021/09/07\",\"tags\":[\"HTMLCollection\",\"getElementsByClassName\",\"nodeList\",\"querySelectorAll()\"],\"categories\":[\"dev\",\"web\"],\"thumbnail\":\"assets/images/posts/trap-of-htmlcollection.jpeg\"},\"content\":\"\u003cpre class=\\\"language-html\\\"\u003e\u003ccode class=\\\"language-html code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ewrapper lunchtime-template\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ep\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etitle\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003espan\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-primary name-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003eOOO\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003espan\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    의 점심시간\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ep\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e위와 같은 형태의 html이 있고, 이 template를 복사해 와서 데이터를 알맞게 넣는 식의 작업이었습니다.\\n스크립트를 짜기 시작합니다..\u003c/p\u003e\\n\u003cpre class=\\\"language-javascript\\\"\u003e\u003ccode class=\\\"language-javascript code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003econst\u003c/span\u003e data \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token literal-property property\\\"\u003ebran\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'철판 볶음밥을 먹었다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'커피를 주문했다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'쿠키도 구매했다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'양치를 했다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e lunchTimeDiv \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token dom variable\\\"\u003edocument\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003equerySelector\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'.lunchtime-template'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003ecloneNode\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token boolean\\\"\u003etrue\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e상세 전략으로, 알맞는 tag element를 찾아 알맞는 데이터를 넣어준 이후, template로 활용하고자 설정해 두었던 class name들을 다 제거하려 생각했습니다.\u003c/p\u003e\\n\u003cpre class=\\\"language-javascript\\\"\u003e\u003ccode class=\\\"language-javascript code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003elunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'lunchtime-template'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e name \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token known-class-name class-name\\\"\u003eObject\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003ekeys\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003edata\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e nameSlot \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003equerySelector\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'.name-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003enameSlot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003einnerHTML\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e name\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003enameSlot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'name-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e여기까지는 무탈하게 진행하였으나, 문제는 이후에 발생했습니다.\u003c/p\u003e\\n\u003cpre class=\\\"language-javascript\\\"\u003e\u003ccode class=\\\"language-javascript code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003econst\u003c/span\u003e histories \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e data\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003ename\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e historySlots \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003egetElementsByClassName\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword control-flow\\\"\u003efor\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e idx \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e idx \u003cspan class=\\\"token operator\\\"\u003e\u0026#x3C;\u003c/span\u003e historySlots\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003elength\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e idx\u003cspan class=\\\"token operator\\\"\u003e++\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  slot \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e historySlots\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003eidx\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  slot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003einnerText\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e histories\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003eidx\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  slot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e스크립트로 뿌려진 데이터는 기대와 달랐습니다.\u003c/p\u003e\\n\u003cpre class=\\\"language-html\\\"\u003e\u003ccode class=\\\"language-html code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ewrapper\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ep\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etitle\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003espan\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-primary\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003ebran\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003espan\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    의 점심시간\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ep\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e철판 볶음밥을 먹었다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e커피를 주문했다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cblockquote\u003e\\n\u003cp\u003e이.. 이게 대체 어떻게 된 일이지..\u003c/p\u003e\\n\u003c/blockquote\u003e\\n\u003cp\u003e기대와 전혀 다른 모습에 얼떨떨합니다. 아무리 생각처럼 한번에 안되는 것이 코딩이라지만, 이렇게 단순한 코드에서 삽질이라니??\\n영문을 모르고 어리둥절 해서 빤히 보고있는데, 패턴이 뭔가 익숙합니다. 고사리손으로 level1 알고리즘 문제를 풀어나가던 시절이 떠올랐습니다. 루프 안에서 인덱스를 조절해야 했던 문제가 있었던 것 같아요. 혹시나 싶어 서둘러 코드에 한줄을 끼워 넣어봅니다..\u003c/p\u003e\\n\u003cpre class=\\\"language-javascript\\\"\u003e\u003ccode class=\\\"language-javascript code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword control-flow\\\"\u003efor\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e idx \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e idx \u003cspan class=\\\"token operator\\\"\u003e\u0026#x3C;\u003c/span\u003e histories\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003elength\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e idx\u003cspan class=\\\"token operator\\\"\u003e++\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  slot \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e historySlots\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003eidx\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  slot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003einnerText\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e histories\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003eidx\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  slot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  idx \u003cspan class=\\\"token operator\\\"\u003e-=\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e1\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e결과가 나오긴 나왔습니다. 뭔가 이상하지만요.\u003c/p\u003e\\n\u003cpre class=\\\"language-html\\\"\u003e\u003ccode class=\\\"language-html code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ewrapper\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ep\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etitle\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003espan\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-primary\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003ebran\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003espan\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    의 점심시간\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ep\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e철판 볶음밥을 먹었다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e철판 볶음밥을 먹었다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e철판 볶음밥을 먹었다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e철판 볶음밥을 먹었다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e반쪽이나마, 포문에서 발생하는 걸로 추정되는 문제는 해결이 되었습니다. 하지만 데이터도 같은 인덱스로 돌아야 하기 때문에 이렇게는 복잡성만 키울 뿐, 이 방향으로는 해결이 어려울 것 같습니다.\u003c/p\u003e\\n\u003cp\u003e보다 근본적인 문제를 고민해보니, 아무래도 루프가 진행됨에 따라 \u003ccode\u003ehistorySlots\u003c/code\u003e이 제 예상과는 다르게 변하고 있는 것 같습니다. 그래서 \u003ccode\u003ehistorySlots\u003c/code\u003e을 잡는 방법을 \u003ccode\u003egetElementsByClassName\u003c/code\u003e에서 \u003ccode\u003equerySelectorAll\u003c/code\u003e으로 바꿔보았습니다.\u003c/p\u003e\\n\u003cpre class=\\\"language-html\\\"\u003e\u003ccode class=\\\"language-html code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ewrapper lunchtime-template\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ep\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etitle\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003espan\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-primary name-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003eOOO\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003espan\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    의 점심시간\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ep\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info history-slot\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003escript\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword\\\"\u003econst\u003c/span\u003e data \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e    \u003cspan class=\\\"token literal-property property\\\"\u003ebran\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e:\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'철판 볶음밥을 먹었다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'커피를 주문했다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'쿠키도 구매했다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'양치를 했다'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e lunchTimeDiv \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token dom variable\\\"\u003edocument\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003equerySelector\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'.lunchtime-template'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003ecloneNode\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token boolean\\\"\u003etrue\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'lunchtime-template'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e name \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token known-class-name class-name\\\"\u003eObject\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003ekeys\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003edata\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e nameSlot \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003equerySelector\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'.name-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  nameSlot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003einnerHTML\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e name\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  nameSlot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'name-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword\\\"\u003econst\u003c/span\u003e histories \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e data\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003ename\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token comment\\\"\u003e// 이곳을\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e historySlots \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003equerySelectorAll\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'.history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token comment\\\"\u003e// 바꿨습니다.\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token keyword control-flow\\\"\u003efor\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e idx \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e idx \u003cspan class=\\\"token operator\\\"\u003e\u0026#x3C;\u003c/span\u003e historySlots\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003elength\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e idx\u003cspan class=\\\"token operator\\\"\u003e++\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e{\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e    slot \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e historySlots\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003eidx\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e    slot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003einnerText\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e histories\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003eidx\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e    slot\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token property-access\\\"\u003eclassList\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003eremove\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e  \u003cspan class=\\\"token punctuation\\\"\u003e}\u003c/span\u003e\\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token script\\\"\u003e\u003cspan class=\\\"token language-javascript\\\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003escript\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e드디어 의도대로 동작하는 것을 확인할 수 있었습니다.\u003c/p\u003e\\n\u003cpre class=\\\"language-html\\\"\u003e\u003ccode class=\\\"language-html code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003ewrapper\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003ep\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etitle\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003espan\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-primary\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003ebran\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003espan\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    의 점심시간\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ep\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e철판 볶음밥을 먹었다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e커피를 주문했다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e쿠키도 구매했다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e    \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;\u003c/span\u003eli\u003c/span\u003e \u003cspan class=\\\"token attr-name\\\"\u003eclass\u003c/span\u003e\u003cspan class=\\\"token attr-value\\\"\u003e\u003cspan class=\\\"token punctuation attr-equals\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003etext-info\u003cspan class=\\\"token punctuation\\\"\u003e\\\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e양치를 했다\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eli\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e  \u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003eul\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token tag\\\"\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003chr\u003e\\n\u003cp\u003e\u003ccode\u003egetElementsByClassName\u003c/code\u003e은 \u003ccode\u003eHTMLCollection\u003c/code\u003e을 반환합니다.\\n\u003ccode\u003equerySelectorAll\u003c/code\u003e은 \u003ccode\u003eNodeList\u003c/code\u003e를 반환합니다.\u003c/p\u003e\\n\u003cpre class=\\\"language-javascript\\\"\u003e\u003ccode class=\\\"language-javascript code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e historySlots1 \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003egetElementsByClassName\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token keyword\\\"\u003elet\u003c/span\u003e historySlots2 \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e lunchTimeDiv\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003equerySelectorAll\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token string\\\"\u003e'.history-slot'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token console class-name\\\"\u003econsole\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003elog\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003ehistorySlots1\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003etoString\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e \u003cspan class=\\\"token comment\\\"\u003e// '[object HTMLCollection]'\u003c/span\u003e\\n\u003c/span\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token console class-name\\\"\u003econsole\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003elog\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003ehistorySlots2\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e\u003cspan class=\\\"token method function property-access\\\"\u003etoString\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e;\u003c/span\u003e \u003cspan class=\\\"token comment\\\"\u003e//  '[object NodeList]'\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e\u003ca href=\\\"https://dev.to/theoluyi/queryselector-vs-getelementsbyclassname-nodelist-vs-htmlcollection-30gg\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferer\\\"\u003eHTMLCollection과 NodeList\u003c/a\u003e 의 차이를 설명하는 글을 공유합니다.\u003c/p\u003e\\n\u003cp\u003e간단하게 얘기하면, HTMLCollection은 항상 현재의 상황을 반영합니다. collection의 기준이 class name이었고, 저는 그 요소들의 class name을 지웠으니 더이상 해당 collection에 해당이 되지 않아 collection이 작아진거죠. 포문이 오작동한 원인은 이 것 때문이었습니다.\u003c/p\u003e\\n\u003cp\u003e더 깊게 얘기하면, HTML은 배열이 아닌 유사 배열로, 배열(array)에서 제공하는 forEach등의 함수를 사용할 수 없다고 합니다. 하지만 조금 더 HTML친화적으로 객체의 속성에 접근하듯이 \u003ccode\u003e.[속성명]\u003c/code\u003e의 방식으로 접근할 수도 있다고 합니다. \u003csup\u003e\u003ca href=\\\"https://devsoyoung.github.io/posts/js-htmlcollection-nodelist\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferer\\\"\u003eref\u003c/a\u003e\u003c/sup\u003e\u003c/p\u003e\\n\u003cp\u003e좀 더 공부해서, 앞으로는 상황에 맞게 적절한 선택을 하며 작업해야겠습니다.\u003c/p\u003e\"}]}]]\n"])</script><script>self.__next_f.push([1,"8:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],null,null,null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,null]\n5:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],null,null,null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,nu"])</script><script>self.__next_f.push([1,"ll,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]],[],null]]\n"])</script></body></html>