1:HL["/_next/static/css/e8f9a37b33730b6d.css",{"as":"style"}]
0:[[["",{"children":["draft",{"children":[["slug","trap-of-htmlcollection","d"],{"children":["__PAGE__?{\"slug\":\"trap-of-htmlcollection\"}",{}]}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/e8f9a37b33730b6d.css","precedence":"next"}]],["$L3",null]]]]
4:HL["/_next/static/css/41897fdb7555a39f.css",{"as":"style"}]
5:I{"id":"1273","chunks":["920:static/chunks/920-4cc7de8e14e4b1e5.js","707:static/chunks/707-de92662865eaa972.js","185:static/chunks/app/layout-db7bd22285a3227e.js"],"name":"","async":false}
6:I{"id":"8920","chunks":["920:static/chunks/920-4cc7de8e14e4b1e5.js","605:static/chunks/app/tags/[tag]/page-80a247f5477a47db.js"],"name":"","async":false}
7:I{"id":"8707","chunks":["920:static/chunks/920-4cc7de8e14e4b1e5.js","707:static/chunks/707-de92662865eaa972.js","185:static/chunks/app/layout-db7bd22285a3227e.js"],"name":"","async":false}
8:I{"id":"4463","chunks":["272:static/chunks/webpack-4b363aefe6ea6579.js","667:static/chunks/2443530c-424cdbcd2566cb72.js","488:static/chunks/488-e94a566894f82f75.js"],"name":"","async":false}
9:I{"id":"1010","chunks":["272:static/chunks/webpack-4b363aefe6ea6579.js","667:static/chunks/2443530c-424cdbcd2566cb72.js","488:static/chunks/488-e94a566894f82f75.js"],"name":"","async":false}
b:"$Sreact.suspense"
c:I{"id":"2126","chunks":["920:static/chunks/920-4cc7de8e14e4b1e5.js","707:static/chunks/707-de92662865eaa972.js","185:static/chunks/app/layout-db7bd22285a3227e.js"],"name":"","async":false}
2:[["$","html",null,{"lang":"en","children":[null,["$","$L5",null,{"src":"https://www.googletagmanager.com/gtag/js?id=G-Q587R5F0YL"}],["$","$L5",null,{"id":"google-analytics","dangerouslySetInnerHTML":{"__html":"\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n   \n            gtag('config', 'G-Q587R5F0YL');\n          "}}],["$","body",null,{"children":[["$","header",null,{"className":"flex items-center px-8","children":["$","$L6",null,{"href":"/","className":"flex items-center","children":[["$","div",null,{"className":"relative w-10 mr-4 aspect-square","children":["$","$L7",null,{"src":"assets/images/codeverse_icon.png","fill":true,"alt":"icon of codeverse"}]}],["$","h1",null,{"className":"text-3xl font-bold","children":"Codeverse"}]]}]}],["$","aside",null,{"children":["$","ul",null,{"className":"px-5","children":[["$","li","0",{"className":"pt-4 border-b border-b-primary-900","children":["$","$L6",null,{"className":"block w-full h-fulltext-lg text-lg","href":"/posts","children":"Posts"}]}],["$","li","1",{"className":"pt-4 border-b border-b-primary-900","children":["$","$L6",null,{"className":"block w-full h-fulltext-lg text-lg","href":"/tags","children":"Tags"}]}],["$","li","2",{"className":"pt-4 border-b border-b-primary-900","children":["$","$L6",null,{"className":"block w-full h-fulltext-lg text-lg","href":"/about","children":"About Me"}]}]]}]}],["$","main",null,{"className":"overflow-auto","children":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children","draft","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":[[null,["$","div",null,{"className":"px-4","children":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children","draft","children",["slug","trap-of-htmlcollection","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$La",null],"segment":"__PAGE__?{\"slug\":\"trap-of-htmlcollection\"}"},"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/41897fdb7555a39f.css","precedence":"next"}]]}]}]],null],"segment":["slug","trap-of-htmlcollection","d"]},"styles":[]}],"segment":"draft"},"styles":[]}]}],["$","$b",null,{"fallback":null,"children":["$","$Lc",null,{}]}]]}]]}],null]
3:[[["$","meta",null,{"charSet":"utf-8"}],null,null,null,null,null,null,null,null,null,null,["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[["$","link",null,{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"any"}]],[],null]]
a:[null,["$","article",null,{"className":"space-y-6","children":[["$","div",null,{"className":"text-4xl font-bold text-center p-10 sticky top-0 bg-white max-h-96 min-h-fit","children":["HTMLCollection의 함정",["$","p",null,{"className":"text-base text-right italic text-secondary-400","children":[" - ","2021/09/07"]}]]}],["$","div",null,{"className":"w-full bg-background-primary-100 p-4","children":["$","p",null,{"className":"font-semibold text-secondary-600","children":"최근 작업에서 클래스를 기준으로 스크립트를 작성할 일이 있었습니다. 그런데, 이 작업 도중 선뜻 이해가 가지 않는 일이 생겨 삽질을 했습니다. 그 삽질의 기억을 기록합니다."}]}],["$","img",null,{"src":"/assets/images/posts/trap-of-htmlcollection.jpeg","className":"w-[90%] mx-auto","alt":"thumbnail","loading":"lazy"}],["$","div",null,{"className":"markdown-body post","dangerouslySetInnerHTML":{"__html":"<pre class=\"language-html\"><code class=\"language-html code-highlight\"><span class=\"code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrapper lunchtime-template<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-primary name-slot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>OOO<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>span</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    의 점심시간\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>p</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>ul</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info history-slot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info history-slot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info history-slot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info history-slot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>ul</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n</span></code></pre>\n<p>위와 같은 형태의 html이 있고, 이 template를 복사해 와서 데이터를 알맞게 넣는 식의 작업이었습니다.\n스크립트를 짜기 시작합니다..</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript code-highlight\"><span class=\"code-line\"><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">  <span class=\"token literal-property property\">bran</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'철판 볶음밥을 먹었다'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'커피를 주문했다'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'쿠키도 구매했다'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'양치를 했다'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</span><span class=\"code-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\"><span class=\"token keyword\">let</span> lunchTimeDiv <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.lunchtime-template'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">cloneNode</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></code></pre>\n<p>상세 전략으로, 알맞는 tag element를 찾아 알맞는 데이터를 넣어준 이후, template로 활용하고자 설정해 두었던 class name들을 다 제거하려 생각했습니다.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript code-highlight\"><span class=\"code-line\">lunchTimeDiv<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'lunchtime-template'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">\n</span><span class=\"code-line\"><span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Object</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">keys</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\"><span class=\"token keyword\">let</span> nameSlot <span class=\"token operator\">=</span> lunchTimeDiv<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.name-slot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">nameSlot<span class=\"token punctuation\">.</span><span class=\"token property-access\">innerHTML</span> <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">nameSlot<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name-slot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></code></pre>\n<p>여기까지는 무탈하게 진행하였으나, 문제는 이후에 발생했습니다.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript code-highlight\"><span class=\"code-line\"><span class=\"token keyword\">const</span> histories <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\"><span class=\"token keyword\">let</span> historySlots <span class=\"token operator\">=</span> lunchTimeDiv<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getElementsByClassName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'history-slot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\"><span class=\"token keyword control-flow\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> idx <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> idx <span class=\"token operator\">&#x3C;</span> historySlots<span class=\"token punctuation\">.</span><span class=\"token property-access\">length</span><span class=\"token punctuation\">;</span> idx<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">  slot <span class=\"token operator\">=</span> historySlots<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">  slot<span class=\"token punctuation\">.</span><span class=\"token property-access\">innerText</span> <span class=\"token operator\">=</span> histories<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">  slot<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'history-slot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\"><span class=\"token punctuation\">}</span>\n</span></code></pre>\n<p>스크립트로 뿌려진 데이터는 기대와 달랐습니다.</p>\n<pre class=\"language-html\"><code class=\"language-html code-highlight\"><span class=\"code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-primary<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>bran<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>span</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    의 점심시간\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>p</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>ul</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>철판 볶음밥을 먹었다<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info history-slot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>커피를 주문했다<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info history-slot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>ul</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n</span></code></pre>\n<blockquote>\n<p>이.. 이게 대체 어떻게 된 일이지..</p>\n</blockquote>\n<p>기대와 전혀 다른 모습에 얼떨떨합니다. 아무리 생각처럼 한번에 안되는 것이 코딩이라지만, 이렇게 단순한 코드에서 삽질이라니??\n영문을 모르고 어리둥절 해서 빤히 보고있는데, 패턴이 뭔가 익숙합니다. 고사리손으로 level1 알고리즘 문제를 풀어나가던 시절이 떠올랐습니다. 루프 안에서 인덱스를 조절해야 했던 문제가 있었던 것 같아요. 혹시나 싶어 서둘러 코드에 한줄을 끼워 넣어봅니다..</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript code-highlight\"><span class=\"code-line\"><span class=\"token keyword control-flow\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> idx <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> idx <span class=\"token operator\">&#x3C;</span> histories<span class=\"token punctuation\">.</span><span class=\"token property-access\">length</span><span class=\"token punctuation\">;</span> idx<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"code-line\">  slot <span class=\"token operator\">=</span> historySlots<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">  slot<span class=\"token punctuation\">.</span><span class=\"token property-access\">innerText</span> <span class=\"token operator\">=</span> histories<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">  slot<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'history-slot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\">  idx <span class=\"token operator\">-=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\"><span class=\"token punctuation\">}</span>\n</span></code></pre>\n<p>결과가 나오긴 나왔습니다. 뭔가 이상하지만요.</p>\n<pre class=\"language-html\"><code class=\"language-html code-highlight\"><span class=\"code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-primary<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>bran<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>span</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    의 점심시간\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>p</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>ul</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>철판 볶음밥을 먹었다<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>철판 볶음밥을 먹었다<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>철판 볶음밥을 먹었다<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>철판 볶음밥을 먹었다<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>ul</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n</span></code></pre>\n<p>반쪽이나마, 포문에서 발생하는 걸로 추정되는 문제는 해결이 되었습니다. 하지만 데이터도 같은 인덱스로 돌아야 하기 때문에 이렇게는 복잡성만 키울 뿐, 이 방향으로는 해결이 어려울 것 같습니다.</p>\n<p>보다 근본적인 문제를 고민해보니, 아무래도 루프가 진행됨에 따라 <code>historySlots</code>이 제 예상과는 다르게 변하고 있는 것 같습니다. 그래서 <code>historySlots</code>을 잡는 방법을 <code>getElementsByClassName</code>에서 <code>querySelectorAll</code>으로 바꿔보았습니다.</p>\n<pre class=\"language-html\"><code class=\"language-html code-highlight\"><span class=\"code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrapper lunchtime-template<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-primary name-slot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>OOO<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>span</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    의 점심시간\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>p</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>ul</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info history-slot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info history-slot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info history-slot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info history-slot<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>ul</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">\n</span><span class=\"code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">    <span class=\"token literal-property property\">bran</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'철판 볶음밥을 먹었다'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'커피를 주문했다'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'쿠키도 구매했다'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'양치를 했다'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  <span class=\"token keyword\">let</span> lunchTimeDiv <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.lunchtime-template'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">cloneNode</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  lunchTimeDiv<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'lunchtime-template'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  <span class=\"token keyword\">let</span> name <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Object</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">keys</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  <span class=\"token keyword\">let</span> nameSlot <span class=\"token operator\">=</span> lunchTimeDiv<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.name-slot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  nameSlot<span class=\"token punctuation\">.</span><span class=\"token property-access\">innerHTML</span> <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  nameSlot<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name-slot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  <span class=\"token keyword\">const</span> histories <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  <span class=\"token comment\">// 이곳을</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  <span class=\"token keyword\">let</span> historySlots <span class=\"token operator\">=</span> lunchTimeDiv<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.history-slot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  <span class=\"token comment\">// 바꿨습니다.</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  <span class=\"token keyword control-flow\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> idx <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> idx <span class=\"token operator\">&#x3C;</span> historySlots<span class=\"token punctuation\">.</span><span class=\"token property-access\">length</span><span class=\"token punctuation\">;</span> idx<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">    slot <span class=\"token operator\">=</span> historySlots<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">    slot<span class=\"token punctuation\">.</span><span class=\"token property-access\">innerText</span> <span class=\"token operator\">=</span> histories<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">    slot<span class=\"token punctuation\">.</span><span class=\"token property-access\">classList</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">'history-slot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\">  <span class=\"token punctuation\">}</span>\n</span></span></span><span class=\"code-line\"><span class=\"token script\"><span class=\"token language-javascript\"></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>script</span><span class=\"token punctuation\">></span></span>\n</span></code></pre>\n<p>드디어 의도대로 동작하는 것을 확인할 수 있었습니다.</p>\n<pre class=\"language-html\"><code class=\"language-html code-highlight\"><span class=\"code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-primary<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>bran<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>span</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    의 점심시간\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>p</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>ul</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>철판 볶음밥을 먹었다<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>커피를 주문했다<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>쿠키도 구매했다<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-info<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>양치를 했다<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>li</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>ul</span><span class=\"token punctuation\">></span></span>\n</span><span class=\"code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&#x3C;/</span>div</span><span class=\"token punctuation\">></span></span>\n</span></code></pre>\n<hr>\n<p><code>getElementsByClassName</code>은 <code>HTMLCollection</code>을 반환합니다.\n<code>querySelectorAll</code>은 <code>NodeList</code>를 반환합니다.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript code-highlight\"><span class=\"code-line\"><span class=\"token keyword\">let</span> historySlots1 <span class=\"token operator\">=</span> lunchTimeDiv<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getElementsByClassName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'history-slot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\"><span class=\"token keyword\">let</span> historySlots2 <span class=\"token operator\">=</span> lunchTimeDiv<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.history-slot'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span><span class=\"code-line\"><span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>historySlots1<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// '[object HTMLCollection]'</span>\n</span><span class=\"code-line\"><span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>historySlots2<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//  '[object NodeList]'</span>\n</span></code></pre>\n<p><a href=\"https://dev.to/theoluyi/queryselector-vs-getelementsbyclassname-nodelist-vs-htmlcollection-30gg\" target=\"_blank\" rel=\"noopener noreferer\">HTMLCollection과 NodeList</a> 의 차이를 설명하는 글을 공유합니다.</p>\n<p>간단하게 얘기하면, HTMLCollection은 항상 현재의 상황을 반영합니다. collection의 기준이 class name이었고, 저는 그 요소들의 class name을 지웠으니 더이상 해당 collection에 해당이 되지 않아 collection이 작아진거죠. 포문이 오작동한 원인은 이 것 때문이었습니다.</p>\n<p>더 깊게 얘기하면, HTML은 배열이 아닌 유사 배열로, 배열(array)에서 제공하는 forEach등의 함수를 사용할 수 없다고 합니다. 하지만 조금 더 HTML친화적으로 객체의 속성에 접근하듯이 <code>.[속성명]</code>의 방식으로 접근할 수도 있다고 합니다. <sup><a href=\"https://devsoyoung.github.io/posts/js-htmlcollection-nodelist\" target=\"_blank\" rel=\"noopener noreferer\">ref</a></sup></p>\n<p>좀 더 공부해서, 앞으로는 상황에 맞게 적절한 선택을 하며 작업해야겠습니다.</p>"}}]]}]]
