<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="preload" as="font" href="/_next/static/media/2aaf0723e720e8b9-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/31749ed780028345.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/a6b42a4e8bf4b8a2.css" data-precedence="next"/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" noModule=""></script></head><body class="__className_0ec1f4"><header class="flex items-center px-8"><a href="/"><h1 class="text-3xl font-bold">Codeverse</h1></a></header><aside><ul><li class="even:backdrop-brightness-90  hover:backdrop-brightness-50 hover:text-white"><a class="block w-full h-full p-5 text-lg" href="/">Posts</a></li><li class="even:backdrop-brightness-90  hover:backdrop-brightness-50 hover:text-white"><a class="block w-full h-full p-5 text-lg" href="/about">About Me</a></li></ul></aside><main class="overflow-auto"><div class="px-4"><article><div class="text-4xl font-bold text-center p-10 mb-3 sticky top-0 text-green-800 bg-gray-200">AWS RDS의 Data base를 dump하기</div><div class="markdown-body post"><blockquote>
<p>VPC 안에 있는 RDS에서 Data base를 dump해 와서 local의 mysql에 밀어 넣는 과정에서 단편적으로 맞닥뜨렸던 문제를 기록합니다.</p>
</blockquote>
<h2 id="ssh-tunneling을-통해-db-dump해오기" class="heading">ssh tunneling을 통해 DB dump해오기</h2>
<ul>
<li><code>mysqldump</code> 명령어를 통해 <code>.sql</code>파일의 형태로 db를 덤프해 올 수 있습니다.</li>
<li>tunneling을 수행할 ec2 인스턴스가 mysql client를 가지고 있어야 합니다.</li>
</ul>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line">$ <span class="token function">ssh</span> <span class="token variable"><span class="token variable">`</span>tunneling-instanse-username<span class="token variable">`</span></span>@<span class="token variable"><span class="token variable">`</span>tunneling-instanse-host<span class="token variable">`</span></span> <span class="token parameter variable">-i</span> <span class="token variable"><span class="token variable">`</span>key-file-path<span class="token variable">`</span></span> mysqldump -u<span class="token variable"><span class="token variable">`</span>username<span class="token variable">`</span></span> -p<span class="token variable"><span class="token variable">`</span>password<span class="token variable">`</span></span> <span class="token parameter variable">-h</span> <span class="token variable"><span class="token variable">`</span>remote-db-host<span class="token variable">`</span></span> <span class="token variable"><span class="token variable">`</span>database-name<span class="token variable">`</span></span> <span class="token operator">></span> <span class="token variable"><span class="token variable">`</span>local/path/to/save.sql<span class="token variable">`</span></span>
</span></code></pre>
<h3 id="column_statistics">COLUMN_STATISTICS</h3>
<h4 id="덤프-시도-중--unknown-table-column_statistics-in-information_schema-라는-에러가-발생할-경우">덤프 시도 중 <code>...: Unknown table 'COLUMN_STATISTICS' in information_schema</code> 라는 에러가 발생할 경우</h4>
<ul>
<li>8.0부터 새로 추가된 옵션으로, 덤프 할 때 ANALYZE TABLE에 통계 데이터를 입력 또는 수정하는 옵션이라고 합니다.<sup><a href="https://jay-ji.tistory.com/62" target="_blank" rel="noopener noreferer">레퍼런스</a></sup></li>
<li>명시적으로 해당 옵션을 사용하지 않는다고 알려줍시다. dump 명령에 <code>--column-statistics=0</code> 옵션을 추가합니다.</li>
</ul>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line">$ <span class="token function">ssh</span> <span class="token variable"><span class="token variable">`</span>tunneling-instanse-username<span class="token variable">`</span></span>@<span class="token variable"><span class="token variable">`</span>tunneling-instanse-host<span class="token variable">`</span></span> <span class="token parameter variable">-i</span> <span class="token variable"><span class="token variable">`</span>key-file-path<span class="token variable">`</span></span> mysqldump -u<span class="token variable"><span class="token variable">`</span>username<span class="token variable">`</span></span> -p<span class="token variable"><span class="token variable">`</span>password<span class="token variable">`</span></span> <span class="token parameter variable">-h</span> <span class="token variable"><span class="token variable">`</span>remote-db-host<span class="token variable">`</span></span> --column-statistics<span class="token operator">=</span><span class="token number">0</span> <span class="token variable"><span class="token variable">`</span>database-name<span class="token variable">`</span></span> <span class="token operator">></span> <span class="token variable"><span class="token variable">`</span>local/path/to/save.sql<span class="token variable">`</span></span>
</span></code></pre>
<h4 id="덤프-시도-중-unknown-variable-column-statistics0-라는-에러가-발생할-경우">덤프 시도 중 <code>...unknown variable 'column-statistics=0'...</code> 라는 에러가 발생할 경우</h4>
<ul>
<li>위의 문제에 해당하지 않는 데 옵션을 주는 경우로, dump 명령 옵션에서 <code>--column-statistics=0</code>을 제거합니다.</li>
</ul>
<h2 id="sql파일을-로컬-mysql에-로드하기" class="heading">.sql파일을 로컬 mysql에 로드하기</h2>
<ul>
<li><code>mysql</code>명령어를 통해 <code>database-name</code>이라는 data base 에 <code>dumped.sql</code> 파일의 내용을 로드할 수 있습니다.</li>
<li>데이터를 받을 database는 미리 생성되어있고 비어있어야 합니다.</li>
</ul>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line">$ mysql -u<span class="token variable"><span class="token variable">`</span>local-user-name<span class="token variable">`</span></span> -p<span class="token variable"><span class="token variable">`</span>local-pwd<span class="token variable">`</span></span> <span class="token variable"><span class="token variable">`</span>database-name<span class="token variable">`</span></span> <span class="token operator">&#x3C;</span> <span class="token variable"><span class="token variable">`</span>path/for/dumped.sql<span class="token variable">`</span></span>
</span></code></pre>
<h3 id="no_auto_create_user">NO_AUTO_CREATE_USER</h3>
<h4 id="로드-시도-중-variable-sql_mode-cant-be-set-to-the-value-of-no_auto_create_user-라는-에러가-발생할-경우">로드 시도 중 <code>Variable 'sql_mode' can't be set to the value of 'NO_AUTO_CREATE_USER'</code> 라는 에러가 발생할 경우</h4>
<ul>
<li>USER 생성과 관련있는 모드입니다. mysql 8.0 이상부터 해당 모드가 제거되고 별도 구문으로(<code>CREAT USER...</code> 또는 <code>GRANT...</code> ) 처리됩니다.</li>
<li>해결을 위해 <code>dumped.sql</code> 의 내용을 약간 수정해줍니다.</li>
<li><code>.sql</code>파일은 데이터 베이스를 구성하는 sql문이 잔뜩 적혀있어 용량이 매우 큰 경우가 대부분입니다. 따라서 editor으로 열어서 수정하는 것은 좋지 않은 선택입니다. <code>sed</code> 명령어를 사용해 수정합니다.</li>
<li><code>sed</code>명령어는 레퍼런스가 많지만, Unix 계열인 mac의 터미널에서는 용법이 조금 다릅니다.</li>
</ul>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line"><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">''</span> <span class="token string">'s/NO_AUTO_CREATE_USER//'</span> <span class="token variable"><span class="token variable">`</span>path/for/dumped.sql<span class="token variable">`</span></span>
</span></code></pre>
<ul>
<li>위와 같이 입력하여 sql파일을 수정하고 다시 로드합니다.</li>
</ul></div></article></div></main><script src="/_next/static/chunks/webpack-a57612382b81aac9.js" async=""></script><script src="/_next/static/chunks/2443530c-d4a6bd7fc7f21e3c.js" async=""></script><script src="/_next/static/chunks/488-4b4f25e9948f085c.js" async=""></script><script src="/_next/static/chunks/main-app-2456614f37f5f8df.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/2aaf0723e720e8b9-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/31749ed780028345.css\",{\"as\":\"style\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:HL[\"/_next/static/css/a6b42a4e8bf4b8a2.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"5:I{\"id\":\"8827\",\"chunks\":[\"272:static/chunks/webpack-a57612382b81aac9.js\",\"667:static/chunks/2443530c-d4a6bd7fc7f21e3c.js\",\"488:static/chunks/488-4b4f25e9948f085c.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":\"9126\",\"chunks\":[\"272:static/chunks/webpack-a57612382b81aac9.js\",\"667:static/chunks/2443530c-d4a6bd7fc7f21e3c.js\",\"488:static/chunks/488-4b4f25e9948f085c.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":\"8920\",\"chunks\":[\"920:static/chunks/920-49084f8d55a30ad2.js\",\"185:static/chunks/app/layout-ef8e557c514303bd.js\"],\"nam"])</script><script>self.__next_f.push([1,"e\":\"\",\"async\":false}\na:I{\"id\":\"4463\",\"chunks\":[\"272:static/chunks/webpack-a57612382b81aac9.js\",\"667:static/chunks/2443530c-d4a6bd7fc7f21e3c.js\",\"488:static/chunks/488-4b4f25e9948f085c.js\"],\"name\":\"\",\"async\":false}\nb:I{\"id\":\"1010\",\"chunks\":[\"272:static/chunks/webpack-a57612382b81aac9.js\",\"667:static/chunks/2443530c-d4a6bd7fc7f21e3c.js\",\"488:static/chunks/488-4b4f25e9948f085c.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/31749ed780028345.css\",\"precedence\":\"next\"}]],[\"$\",\"$L5\",null,{\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/RDS-dump\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"RDS-dump\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"RDS-dump\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$L6\",[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\"}]],\"globalErrorComponent\":\"$7\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_0ec1f4\",\"children\":[[\"$\",\"header\",null,{\"className\":\"flex items-center px-8\",\"children\":[\"$\",\"$L8\",null,{\"href\":\"/\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold\",\"children\":\"Codeverse\"}]}]}],[\"$\",\"aside\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"className\":\"even:backdrop-brightness-90  hover:backdrop-brightness-50 hover:text-white\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"block w-full h-full p-5 text-lg\",\"href\":\"/\",\"children\":\"Posts\"}]}],[\"$\",\"li\",\"1\",{\"className\":\"even:backdrop-brightness-90  hover:backdrop-brightness-50 hover:text-white\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"block w-full h-full p-5 text-lg\",\"href\":\"/about\",\"children\":\"About Me\"}]}]]}]}],[\"$\",\"main\",null,{\"className\":\"overflow-auto\",\"children\":[\"$L9\",\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}]]}]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_0ec1f4\",\"children\":[[\"$\",\"header\",null,{\"className\":\"flex items-center px-8\",\"children\":[\"$\",\"$L8\",null,{\"href\":\"/\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold\",\"children\":\"Codeverse\"}]}]}],[\"$\",\"aside\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"className\":\"even:backdrop-brightness-90  hover:backdrop-brightness-50 hover:text-white\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"block w-full h-full p-5 text-lg\",\"href\":\"/\",\"children\":\"Posts\"}]}],[\"$\",\"li\",\"1\",{\"className\":\"even:backdrop-brightness-90  hover:backdrop-brightness-50 hover:text-white\",\"children\":[\"$\",\"$L8\",null,{\"className\":\"block w-full h-full p-5 text-lg\",\"href\":\"/about\",\"children\":\"About Me\"}]}]]}]}],[\"$\",\"main\",null,{\"className\":\"overflow-auto\",\"children\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[[null,[\"$\",\"div\",null,{\"className\":\"px-4\",\"children\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",[\"slug\",\"RDS-dump\",\"d\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"RDS-dump\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/a6b42a4e8bf4b8a2.css\",\"precedence\":\"next\"}]]}]}]],null],\"segment\":[\"slug\",\"RDS-dump\",\"d\"]},\"styles\":[]}],\"segment\":\"posts\"},\"styles\":[]}]}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"c:[null,[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"text-4xl font-bold text-center p-10 mb-3 sticky top-0 text-green-800 bg-gray-200\",\"children\":\"AWS RDS의 Data base를 dump하기\"}],[\"$\",\"div\",null,{\"className\":\"markdown-body post\",\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cblockquote\u003e\\n\u003cp\u003eVPC 안에 있는 RDS에서 Data base를 dump해 와서 local의 mysql에 밀어 넣는 과정에서 단편적으로 맞닥뜨렸던 문제를 기록합니다.\u003c/p\u003e\\n\u003c/blockquote\u003e\\n\u003ch2 id=\\\"ssh-tunneling을-통해-db-dump해오기\\\" class=\\\"heading\\\"\u003essh tunneling을 통해 DB dump해오기\u003c/h2\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ccode\u003emysqldump\u003c/code\u003e 명령어를 통해 \u003ccode\u003e.sql\u003c/code\u003e파일의 형태로 db를 덤프해 올 수 있습니다.\u003c/li\u003e\\n\u003cli\u003etunneling을 수행할 ec2 인스턴스가 mysql client를 가지고 있어야 합니다.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cpre class=\\\"language-shell\\\"\u003e\u003ccode class=\\\"language-shell code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e$ \u003cspan class=\\\"token function\\\"\u003essh\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003etunneling-instanse-username\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e@\u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003etunneling-instanse-host\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token parameter variable\\\"\u003e-i\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003ekey-file-path\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e mysqldump -u\u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003eusername\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e -p\u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003epassword\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token parameter variable\\\"\u003e-h\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003eremote-db-host\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003edatabase-name\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003elocal/path/to/save.sql\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003ch3 id=\\\"column_statistics\\\"\u003eCOLUMN_STATISTICS\u003c/h3\u003e\\n\u003ch4 id=\\\"덤프-시도-중--unknown-table-column_statistics-in-information_schema-라는-에러가-발생할-경우\\\"\u003e덤프 시도 중 \u003ccode\u003e...: Unknown table 'COLUMN_STATISTICS' in information_schema\u003c/code\u003e 라는 에러가 발생할 경우\u003c/h4\u003e\\n\u003cul\u003e\\n\u003cli\u003e8.0부터 새로 추가된 옵션으로, 덤프 할 때 ANALYZE TABLE에 통계 데이터를 입력 또는 수정하는 옵션이라고 합니다.\u003csup\u003e\u003ca href=\\\"https://jay-ji.tistory.com/62\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferer\\\"\u003e레퍼런스\u003c/a\u003e\u003c/sup\u003e\u003c/li\u003e\\n\u003cli\u003e명시적으로 해당 옵션을 사용하지 않는다고 알려줍시다. dump 명령에 \u003ccode\u003e--column-statistics=0\u003c/code\u003e 옵션을 추가합니다.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cpre class=\\\"language-shell\\\"\u003e\u003ccode class=\\\"language-shell code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e$ \u003cspan class=\\\"token function\\\"\u003essh\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003etunneling-instanse-username\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e@\u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003etunneling-instanse-host\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token parameter variable\\\"\u003e-i\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003ekey-file-path\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e mysqldump -u\u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003eusername\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e -p\u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003epassword\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token parameter variable\\\"\u003e-h\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003eremote-db-host\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e --column-statistics\u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003edatabase-name\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003elocal/path/to/save.sql\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003ch4 id=\\\"덤프-시도-중-unknown-variable-column-statistics0-라는-에러가-발생할-경우\\\"\u003e덤프 시도 중 \u003ccode\u003e...unknown variable 'column-statistics=0'...\u003c/code\u003e 라는 에러가 발생할 경우\u003c/h4\u003e\\n\u003cul\u003e\\n\u003cli\u003e위의 문제에 해당하지 않는 데 옵션을 주는 경우로, dump 명령 옵션에서 \u003ccode\u003e--column-statistics=0\u003c/code\u003e을 제거합니다.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003ch2 id=\\\"sql파일을-로컬-mysql에-로드하기\\\" class=\\\"heading\\\"\u003e.sql파일을 로컬 mysql에 로드하기\u003c/h2\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ccode\u003emysql\u003c/code\u003e명령어를 통해 \u003ccode\u003edatabase-name\u003c/code\u003e이라는 data base 에 \u003ccode\u003edumped.sql\u003c/code\u003e 파일의 내용을 로드할 수 있습니다.\u003c/li\u003e\\n\u003cli\u003e데이터를 받을 database는 미리 생성되어있고 비어있어야 합니다.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cpre class=\\\"language-shell\\\"\u003e\u003ccode class=\\\"language-shell code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e$ mysql -u\u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003elocal-user-name\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e -p\u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003elocal-pwd\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003edatabase-name\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e\u0026#x3C;\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003epath/for/dumped.sql\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003ch3 id=\\\"no_auto_create_user\\\"\u003eNO_AUTO_CREATE_USER\u003c/h3\u003e\\n\u003ch4 id=\\\"로드-시도-중-variable-sql_mode-cant-be-set-to-the-value-of-no_auto_create_user-라는-에러가-발생할-경우\\\"\u003e로드 시도 중 \u003ccode\u003eVariable 'sql_mode' can't be set to the value of 'NO_AUTO_CREATE_USER'\u003c/code\u003e 라는 에러가 발생할 경우\u003c/h4\u003e\\n\u003cul\u003e\\n\u003cli\u003eUSER 생성과 관련있는 모드입니다. mysql 8.0 이상부터 해당 모드가 제거되고 별도 구문으로(\u003ccode\u003eCREAT USER...\u003c/code\u003e 또는 \u003ccode\u003eGRANT...\u003c/code\u003e ) 처리됩니다.\u003c/li\u003e\\n\u003cli\u003e해결을 위해 \u003ccode\u003edumped.sql\u003c/code\u003e 의 내용을 약간 수정해줍니다.\u003c/li\u003e\\n\u003cli\u003e\u003ccode\u003e.sql\u003c/code\u003e파일은 데이터 베이스를 구성하는 sql문이 잔뜩 적혀있어 용량이 매우 큰 경우가 대부분입니다. 따라서 editor으로 열어서 수정하는 것은 좋지 않은 선택입니다. \u003ccode\u003esed\u003c/code\u003e 명령어를 사용해 수정합니다.\u003c/li\u003e\\n\u003cli\u003e\u003ccode\u003esed\u003c/code\u003e명령어는 레퍼런스가 많지만, Unix 계열인 mac의 터미널에서는 용법이 조금 다릅니다.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cpre class=\\\"language-shell\\\"\u003e\u003ccode class=\\\"language-shell code-highlight\\\"\u003e\u003cspan class=\\\"code-line\\\"\u003e\u003cspan class=\\\"token function\\\"\u003esed\u003c/span\u003e \u003cspan class=\\\"token parameter variable\\\"\u003e-i\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e''\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e's/NO_AUTO_CREATE_USER//'\u003c/span\u003e \u003cspan class=\\\"token variable\\\"\u003e\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003epath/for/dumped.sql\u003cspan class=\\\"token variable\\\"\u003e`\u003c/span\u003e\u003c/span\u003e\\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\\n\u003cul\u003e\\n\u003cli\u003e위와 같이 입력하여 sql파일을 수정하고 다시 로드합니다.\u003c/li\u003e\\n\u003c/ul\u003e\"}}]]}]]\n"])</script><script>self.__next_f.push([1,"9:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],null,null,null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,null]\n"])</script><script>self.__next_f.push([1,"6:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"title\",null,{\"children\":\"Create Next App\"}],[\"$\",\"meta\",null,{\"name\":\"description\",\"content\":\"Generated by create next app\"}],null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]],[],null]]\n"])</script></body></html>